{% extends 'base.html' %}
{% block title %}通知消息 - 驰达IT资产管理系统{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
<h4>通知消息</h4>
<a href="{% url 'notification_mark_all_read' %}" class="btn btn-sm btn-outline-secondary">全部标为已读</a>
</div>
<div class="card"><div class="card-body">
<div class="list-group">{% for n in notifications %}<a href="{% url 'notification_read' n.id %}" class="list-group-item list-group-item-action {% if not n.is_read %}fw-bold{% endif %}">
<div class="d-flex w-100 justify-content-between"><h6 class="mb-1">{{ n.title }}</h6><small>{{ n.created_at|date:"Y-m-d H:i" }}</small></div>
<p class="mb-1">{{ n.content|truncatewords:20 }}</p>{% if not n.is_read %}<span class="badge bg-danger">未读</span>{% endif %}</a>{% empty %}<div class="text-center text-muted p-4">暂无通知</div>{% endfor %}</div>
</div></div>{% endblock %}
