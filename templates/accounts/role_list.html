{% extends 'base.html' %}
{% block title %}角色管理 - 驰达IT资产管理系统{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
<h4>角色管理</h4>
<a href="{% url 'role_create' %}" class="btn btn-primary"><i class="fas fa-plus"></i> 新增角色</a>
</div>
<div class="card"><div class="card-body">
<table class="table"><thead><tr><th>角色名称</th><th>角色标识</th><th>描述</th><th>排序</th><th>操作</th></tr></thead>
<tbody>{% for r in roles %}<tr><td>{{ r.name }}</td><td>{{ r.code }}</td><td>{{ r.description|default:'-'|truncatewords:10 }}</td><td>{{ r.sort }}</td>
<td><a href="{% url 'role_edit' r.id %}" class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></a>{% if not r.users.exists %}<a href="{% url 'role_delete' r.id %}" class="btn btn-sm btn-outline-danger" onclick="return confirm('确定删除？')"><i class="fas fa-trash"></i></a>{% endif %}</td></tr>{% empty %}<tr><td colspan="5" class="text-center">暂无角色</td></tr>{% endfor %}</tbody></table>
</div></div>{% endblock %}
